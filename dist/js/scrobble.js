function welcomeFn(){var g=document.getElementById("userName").value;""==g?UIkit.notification({message:"<span uk-icon='icon: warning'></span> Error! Enter a Last.fm user name.",status:"danger"}):UIkit.notification({message:"<span uk-icon='icon: check'></span> Visualising your data now. Scroll down if on a mobile device.",status:"primary"}),$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.getinfo&api_key=6e616452b7c762a15256272ddb774c56&user="+g+"&format=json",function(e){var s=e.user.realname,r="<b>"+e.user.playcount+"</b>",t=e.user.playcount,o=e.user.registered.unixtime,i=e.user.image[2]["#text"],a=new Date(1e3*o),n=a.getFullYear(),u="<b>"+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+" "+a.getDate()+", "+n+"</b>!",l=new Date(1e3*o),c=new Date,m="<b>"+Math.round(Math.abs((l.getTime()-c.getTime())/864e5))+"</b>",d="<b>"+(t/Math.round(Math.abs((l.getTime()-c.getTime())/864e5))).toFixed()+"</b>";$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&nowplaying=true&api_key=6e616452b7c762a15256272ddb774c56&user="+g+"&format=json",function(e){var t="<b>"+e.recenttracks.track[0].name+"</b>",o=e.recenttracks.track[0].image[2]["#text"],a="<b>"+e.recenttracks.track[0].artist["#text"]+"</b>",n="<b>"+e.recenttracks.track[0].album["#text"]+"</b>";document.getElementById("welcome").innerHTML="Hi "+s,document.getElementById("totalScrobbles").innerHTML="You have heard a total of "+r+" songs since joining Last.fm on "+u+" It means "+m+" days have elapsed since then! Oh, it also means that you have listened to "+d+" songs per day! Keep it up.",document.getElementById("image").src=i,$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&limit=10&api_key=6e616452b7c762a15256272ddb774c56&user="+g+"&format=json",function(e){var o="";$.each(e.toptracks.track,function(e,t){o+="<li><b>"+t.name+"</b> - Play count : "+t.playcount+"</li>"}),document.getElementById("toptentracksLabel").innerHTML="Your Top 10 Most Played Songs: -",$("#toptentracks").empty(),$("#toptentracks").append(o),$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettopartists&limit=10&api_key=6e616452b7c762a15256272ddb774c56&user="+g+"&format=json",function(e){var o="";$.each(e.topartists.artist,function(e,t){o+="<li><b>"+t.name+"</b> - Play count : "+t.playcount+"</li>"}),document.getElementById("toptenArtistsLabel").innerHTML="Your Top 10 Most Played Artists: -",$("#toptenartists").empty(),$("#toptenartists").append(o),$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettopalbums&limit=10&api_key=6e616452b7c762a15256272ddb774c56&user="+g+"&format=json",function(e){var o="";$.each(e.topalbums.album,function(e,t){o+="<li><b>"+t.name+"</b> - Play count : "+t.playcount+"</li>"}),document.getElementById("toptenAlbumsLabel").innerHTML="Your Top 10 Most Played Albums: -",$("#toptenalbums").empty(),$("#toptenalbums").append(o)})})});document.getElementById("recentTracks").innerHTML='<i class="fas fa-play"></i> Your last played song is : '+t+" by : "+a+" from the Album : "+n,document.getElementById("lastplayed").src=o})})}function drawChart(){var e=document.getElementById("userName").value;$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&limit=20&api_key=6e616452b7c762a15256272ddb774c56&user="+e+"&format=json",function(e){var t=new google.visualization.DataTable;t.addColumn("string","Song Title"),t.addColumn("number","Play Count");for(var o=0;o<e.toptracks.track.length;o++){t.addRow([e.toptracks.track[o].name,parseInt(e.toptracks.track[o].playcount)]);new google.visualization.ColumnChart(document.getElementById("mostplayedtracks")).draw(t,{title:"Most Played Tracks. (Hover mouse to see the title.)",hAxis:{textPosition:"none"},chartArea:{width:"85%",height:"78%"},legend:{position:"bottom"}})}document.getElementById("top20tracksLabel").innerHTML="And here are your Top 20 Most Played Songs: -"}),$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettopartists&limit=20&api_key=6e616452b7c762a15256272ddb774c56&user="+e+"&format=json",function(e){var t=new google.visualization.DataTable;t.addColumn("string","Artist"),t.addColumn("number","Play Count");for(var o=0;o<e.topartists.artist.length;o++){t.addRow([e.topartists.artist[o].name,parseInt(e.topartists.artist[o].playcount)]);new google.visualization.ColumnChart(document.getElementById("mostplayedartists")).draw(t,{title:"Most Heard Artists. (Hover mouse to see the title.)",chartArea:{width:"85%",height:"78%"},legend:"bottom",hAxis:{textPosition:"none"}})}document.getElementById("top20artistsLabel").innerHTML="And here are your Top 20 Most Heard Artists: -"}),$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettopalbums&limit=20&api_key=6e616452b7c762a15256272ddb774c56&user="+e+"&format=json",function(e){var t=new google.visualization.DataTable;t.addColumn("string","Album"),t.addColumn("number","Play Count");for(var o=0;o<e.topalbums.album.length;o++){t.addRow([e.topalbums.album[o].name,parseInt(e.topalbums.album[o].playcount)]);new google.visualization.ColumnChart(document.getElementById("mostplayedalbums")).draw(t,{title:"Most Heard Albums. (Hover mouse to see the title.)",chartArea:{width:"85%",height:"78%"},legend:"bottom",hAxis:{textPosition:"none"}})}document.getElementById("top20albumsLabel").innerHTML="And here are your Top 20 Most Heard Albums: -"}),$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettoptags&limit=5&api_key=6e616452b7c762a15256272ddb774c56&user="+e+"&format=json",function(e){var t=new google.visualization.DataTable;t.addColumn("string","Tags/Genre"),t.addColumn("number","Count");for(var o=0;o<e.toptags.tag.length;o++){t.addRow([e.toptags.tag[o].name,parseInt(e.toptags.tag[o].count)]);new google.visualization.PieChart(document.getElementById("toptags")).draw(t,{title:"Top Tags/Genre. (Hover mouse to see the title.)",chartArea:{width:"85%",height:"95%"},pieSliceText:"label",legend:"none",pieHole:.4})}document.getElementById("toptagsLabel").innerHTML="Your Top Tags/Genre: -"})}function fetchNumber(){var o=document.getElementById("userName").value;$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&api_key=6e616452b7c762a15256272ddb774c56&user="+o+"&format=json",function(e){$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettopartists&api_key=6e616452b7c762a15256272ddb774c56&user="+o+"&format=json",function(e){$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.gettopalbums&api_key=6e616452b7c762a15256272ddb774c56&user="+o+"&format=json",function(e){var t=e.topalbums["@attr"].total;document.getElementById("numuniquealbums").innerHTML="Albums : "+t});var t=e.topartists["@attr"].total;document.getElementById("numuniqueartists").innerHTML="Artists : "+t+" "});var t=e.toptracks["@attr"].total;document.getElementById("numunique").innerHTML="In case you want to know how many distinct Tracks/Artists/Albums you have listened to, here the data is.",document.getElementById("numuniquetracks").innerHTML="Tracks :  "+t+" "})}function scrobblesDaily(){var e=document.getElementById("userName").value,t=(new Date).setUTCHours(0,0,0,0)/1e3;$.getJSON("https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&api_key=6e616452b7c762a15256272ddb774c56&user="+e+"&from="+t+"&format=json",function(e){var t="<b>"+e.recenttracks["@attr"].total+"</b>";document.getElementById("todaysscrobbles").innerHTML="You have listened to "+t+" songs today."})}function uniqueTracks(){var e="https://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&limit=10&api_key=6e616452b7c762a15256272ddb774c56&user="+document.getElementById("userName").value+"&format=json",o=new XMLHttpRequest,n=new XMLHttpRequest;o.open("GET",e),n.open("GET","https://ws.audioscrobbler.com/2.0/?method=chart.gettoptracks&api_key=6e616452b7c762a15256272ddb774c56&limit=10&format=json"),o.responseType="json",n.responseType="json";var s=[],r=[];o.onload=function(){for(var e=0;e<10;e++){var t=o.response.toptracks.track[e].name;s.push(t)}},o.send(),n.onload=function(){for(var e=0;e<10;e++){var t=n.response.tracks.track[e].name;r.push(t)}var o=$(r).not(s).get();document.getElementById("trackuniqueness").innerHTML="Unique-O-Meter",document.getElementById("diff").innerHTML="Your listening taste uniqueness quotient is <b>"+10*o.length+"</b>. It means "+(10-o.length)+" of your top 10 tracks match the global top 10!";var a=google.visualization.arrayToDataTable([["Label","Value"],["Uniqueness",10*o.length]]);new google.visualization.Gauge(document.getElementById("uniquetracksguage")).draw(a,{redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5})},n.send()}function uniqueArtists(){var e="https://ws.audioscrobbler.com/2.0/?method=user.gettopartists&limit=10&api_key=6e616452b7c762a15256272ddb774c56&user="+document.getElementById("userName").value+"&format=json",o=new XMLHttpRequest,n=new XMLHttpRequest;o.open("GET",e),n.open("GET","https://ws.audioscrobbler.com/2.0/?method=chart.gettopartists&api_key=6e616452b7c762a15256272ddb774c56&limit=10&format=json"),o.responseType="json",n.responseType="json";var s=[],r=[];o.onload=function(){for(var e=0;e<10;e++){var t=o.response.topartists.artist[e].name;s.push(t)}console.log(s)},o.send(),n.onload=function(){for(var e=0;e<10;e++){var t=n.response.artists.artist[e].name;r.push(t)}console.log(r);var o=$(r).not(s).get();document.getElementById("artistuniqueness").innerHTML="Unique-O-Meter",document.getElementById("artist_diff").innerHTML="Your Artist/Singer uniqueness quotient is <b>"+10*o.length+"</b>. It means "+(10-o.length)+" of your top 10 Artists match the global top 10!";var a=google.visualization.arrayToDataTable([["Label","Value"],["Uniqueness",10*o.length]]);new google.visualization.Gauge(document.getElementById("uniqueartistsguage")).draw(a,{redFrom:90,redTo:100,yellowFrom:75,yellowTo:90,minorTicks:5})},n.send()}google.charts.load("current",{packages:["corechart"]}),google.charts.load("current",{packages:["gauge"]}),google.charts.load("current",{packages:["gauge"]});